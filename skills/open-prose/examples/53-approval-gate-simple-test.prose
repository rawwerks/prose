# Simple Approval Gate Test
# Tests that the VM recognizes and handles approval gates per compiler.md spec

session "Starting simple approval gate test"

let data = session "Generate some test data"

# This gate should cause the VM to:
# 1. Display the prompt
# 2. Block execution
# 3. Wait for user response
approve simple_test:
  prompt: """
    Simple Test Gate

    Test data: {data}

    Respond with: approve or reject
  """
  timeout: "2m"
  on_reject: throw "User rejected the test"

session "Gate was approved - test passed"
